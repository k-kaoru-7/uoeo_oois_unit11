{% extends "base.html" %}
{% block content %}
<h1>Reception</h1>
<h2>Appointment List</h2>
<a href="{{ url_for('make_appointment') }}">Make Appointment</a>
<table class="table table-striped table-hover">
    <tr>
        <th>id</th>
        <th>Type</th>
        <th>Staff Name</th>
        <th>Patient Name</th>
        <th>Appointment Date</th>
        <th>Receptionist Name</th>
        <th>Reception Date</th>
        <th>Cancel Appointment</th>
    </tr>
    {% for appointment in appointments %}
    <tr>
        <td>{{ appointment.id }}</td>
        <td>{{ appointment.type}}</td>
        <td>{{ appointment.healthcare_pro.name }}</td>
        <td>{{ appointment.patient.name }}</td>
        <td>{{ appointment.date.strftime('%Y-%m-%d %H:%M') }}</td>
        <td>{{ appointment.created_by }}</td>
        <td>{{ appointment.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
        <td>
            <form action="/cancel_appointment/{{ appointment.id }}" style="display: inline" method="post">
                <input class="btn btn-danger" type="submit" value="Cancel" onclick='return confirm("Are you sure to cancel this appointment?")';>
            </form>
        </td>
    </tr>
    {% endfor %}

</table>
{% endblock %}